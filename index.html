<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagnostic Knowledge Base - Steven's Parts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2a5298;
        }

        .main-content {
            padding: 2rem 0;
        }

        .hero-section {
            text-align: center;
            padding: 3rem 0;
            color: white;
        }

        .hero-section h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero-section p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .diagnostic-wizard {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 800px;
        }

        .diagnostic-step {
            margin-bottom: 2rem;
        }

        .diagnostic-step h3 {
            color: #2a5298;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .diagnostic-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .diagnostic-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            border: none;
            font-size: 1rem;
        }

        .diagnostic-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .diagnostic-btn.selected {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transform: scale(1.05);
        }

        .diagnostic-results {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
            display: none;
        }

        .diagnostic-results h3 {
            color: #2a5298;
            margin-bottom: 1rem;
        }

        .quick-diagnosis {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 1000px;
        }

        .quick-diagnosis h2 {
            color: #2a5298;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .symptom-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .symptom-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
        }

        .symptom-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .error-code-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
        }

        .error-code-section h3 {
            color: #2a5298;
            margin-bottom: 1rem;
        }

        .error-code-input {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .error-code-input input {
            flex: 1;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .error-code-input button {
            background: #2a5298;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
        }

        .error-code-input button:hover {
            background: #1e3c72;
        }

        .parts-database {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 1200px;
        }

        .parts-database h2 {
            color: #2a5298;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .search-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .search-filters select,
        .search-filters input {
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .parts-table {
            overflow-x: auto;
            margin-top: 1rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        .brand-badge {
            display: inline-block;
            background: #2a5298;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .compatibility-list {
            font-size: 0.9rem;
            color: #666;
        }

        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2rem;
            }

            .diagnostic-options {
                grid-template-columns: 1fr;
            }

            .symptom-buttons {
                grid-template-columns: 1fr;
            }

            .search-filters {
                grid-template-columns: 1fr;
            }

            .diagnostic-wizard,
            .quick-diagnosis,
            .parts-database {
                margin: 1rem;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">üîß Steven's Parts Diagnostic Center</div>
                <div>Professional Appliance Diagnostics</div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="container">
            <div class="hero-section">
                <h1>üéØ Appliance Diagnostic Knowledge Base</h1>
                <p>Professional diagnostic tools for all major appliance brands</p>
            </div>

            <!-- DIAGNOSTIC WIZARD -->
            <div class="diagnostic-wizard">
                <h2>üßô‚Äç‚ôÇÔ∏è Smart Diagnostic Wizard</h2>
                <p>Step-by-step diagnosis to find the exact part you need</p>

                <div class="diagnostic-step">
                    <h3>1. What type of appliance?</h3>
                    <div class="diagnostic-options">
                        <div class="diagnostic-btn" onclick="selectAppliance('washer')">üß∫ Washer</div>
                        <div class="diagnostic-btn" onclick="selectAppliance('dryer')">üî• Dryer</div>
                        <div class="diagnostic-btn" onclick="selectAppliance('dishwasher')">üçΩÔ∏è Dishwasher</div>
                        <div class="diagnostic-btn" onclick="selectAppliance('refrigerator')">‚ùÑÔ∏è Refrigerator</div>
                        <div class="diagnostic-btn" onclick="selectAppliance('range')">üî• Range/Oven</div>
                    </div>
                </div>

                <div id="brandStep" class="diagnostic-step" style="display: none;">
                    <h3>2. What's the brand?</h3>
                    <div id="brandOptions" class="diagnostic-options">
                        <!-- Brand options will be populated dynamically -->
                    </div>
                </div>

                <div id="symptomStep" class="diagnostic-step" style="display: none;">
                    <h3>3. What's the main problem?</h3>
                    <div id="symptomOptions" class="diagnostic-options">
                        <!-- Symptom options will be populated dynamically -->
                    </div>
                </div>

                <div class="diagnostic-results" id="diagnosticResults">
                    <h3>üéØ Diagnosis Complete!</h3>
                    <div id="diagnosisText"></div>
                    <div id="recommendedParts"></div>
                </div>
            </div>

            <!-- QUICK DIAGNOSIS SECTION -->
            <div class="quick-diagnosis">
                <h2>‚ö° Quick Symptom Diagnosis</h2>
                <div class="symptom-buttons">
                    <div class="symptom-btn" onclick="quickDiagnose('no_power')">üîå No Power</div>
                    <div class="symptom-btn" onclick="quickDiagnose('wont_start')">‚ñ∂Ô∏è Won't Start</div>
                    <div class="symptom-btn" onclick="quickDiagnose('no_heat')">üå°Ô∏è No Heat</div>
                    <div class="symptom-btn" onclick="quickDiagnose('wont_drain')">üíß Won't Drain</div>
                    <div class="symptom-btn" onclick="quickDiagnose('making_noise')">üîä Making Noise</div>
                    <div class="symptom-btn" onclick="quickDiagnose('door_issues')">üö™ Door Issues</div>
                    <div class="symptom-btn" onclick="quickDiagnose('temperature_issues')">üå°Ô∏è Temperature Issues</div>
                    <div class="symptom-btn" onclick="quickDiagnose('water_issues')">üíß Water Issues</div>
                </div>

                <!-- ERROR CODE SECTION -->
                <div class="error-code-section">
                    <h3>üö® Have an Error Code?</h3>
                    <p>Enter the error code from your appliance display for instant diagnosis:</p>
                    <div class="error-code-input">
                        <input type="text" id="errorCodeInput" placeholder="Enter error code (e.g., F21, OE, 4C)" style="text-transform: uppercase;">
                        <button onclick="diagnoseErrorCode()">Diagnose Code</button>
                    </div>
                    <div id="errorCodeResults" style="margin-top: 1rem;"></div>
                </div>
            </div>

            <!-- PARTS DATABASE -->
            <div class="parts-database">
                <h2>üîç Diagnostic Parts Database</h2>
                
                <div class="search-filters">
                    <input type="text" id="searchInput" placeholder="Search by part number, model, or symptom..." oninput="filterParts()">
                    <select id="brandFilter" onchange="filterParts()">
                        <option value="">All Brands</option>
                        <option value="whirlpool">Whirlpool</option>
                        <option value="ge">GE</option>
                        <option value="lg">LG</option>
                        <option value="samsung">Samsung</option>
                        <option value="frigidaire">Frigidaire</option>
                        <option value="maytag">Maytag</option>
                    </select>
                    <select id="applianceFilter" onchange="filterParts()">
                        <option value="">All Appliances</option>
                        <option value="washer">Washers</option>
                        <option value="dryer">Dryers</option>
                        <option value="dishwasher">Dishwashers</option>
                        <option value="refrigerator">Refrigerators</option>
                        <option value="range">Ranges/Ovens</option>
                    </select>
                    <select id="symptomFilter" onchange="filterParts()">
                        <option value="">All Symptoms</option>
                        <option value="no_power">No Power</option>
                        <option value="wont_start">Won't Start</option>
                        <option value="no_heat">No Heat</option>
                        <option value="wont_drain">Won't Drain</option>
                        <option value="making_noise">Making Noise</option>
                        <option value="door_issues">Door Issues</option>
                    </select>
                </div>

                <div class="parts-table">
                    <table id="partsTable">
                        <thead>
                            <tr>
                                <th>Part Number</th>
                                <th>Brand</th>
                                <th>Appliance</th>
                                <th>Common Symptoms</th>
                                <th>Error Codes</th>
                                <th>Compatible Models</th>
                            </tr>
                        </thead>
                        <tbody id="partsTableBody">
                            <!-- Parts data will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentAppliance = '';
        let currentBrand = '';
        let allParts = [];

        // Comprehensive parts database with brand-specific diagnostics
        const partsDatabase = [
            // WHIRLPOOL PARTS
            {
                partNumber: "W10310240",
                brand: "whirlpool",
                appliance: "washer",
                name: "Main Control Board",
                symptoms: ["no_power", "wont_start", "display_issues"],
                errorCodes: ["F21", "F02", "F01", "Lid"],
                models: ["WTW4816FW", "WTW5000DW", "WTW4815EW"],
                diagnosis: "Controls all wash functions including water fill, drain, and spin cycles"
            },
            {
                partNumber: "W10189966",
                brand: "whirlpool",
                appliance: "dryer",
                name: "Electronic Control Board",
                symptoms: ["no_heat", "wont_start", "temperature_issues"],
                errorCodes: ["F01", "F02", "F70", "F71"],
                models: ["WED4815EW", "WED5000DW", "WGD4815EW"],
                diagnosis: "Controls heating elements, motor, and timer functions"
            },
            {
                partNumber: "W10084142",
                brand: "whirlpool",
                appliance: "dishwasher",
                name: "Control Module",
                symptoms: ["wont_start", "water_issues", "no_heat"],
                errorCodes: ["F6E2", "F7E1", "F8E4"],
                models: ["WDT710PAYM", "WDF520PADM", "WDT730PAHZ"],
                diagnosis: "Manages wash cycles, water temperature, and drain functions"
            },

            // GE PARTS
            {
                partNumber: "WH12X10355",
                brand: "ge",
                appliance: "washer",
                name: "Main Control Board",
                symptoms: ["no_power", "wont_start", "cycle_issues"],
                errorCodes: ["E10", "E20", "E23", "E40"],
                models: ["GTW465ASNWW", "GTW485ASJWS", "GTW680BSJWS"],
                diagnosis: "Primary control for all wash operations and error detection"
            },
            {
                partNumber: "WE04X20374",
                brand: "ge",
                appliance: "dryer",
                name: "Control Board Assembly",
                symptoms: ["no_heat", "temperature_issues", "timer_issues"],
                errorCodes: ["E01", "E02", "E64", "E66"],
                models: ["GTD42EASJWW", "GTD65EBSJWS", "GFD45ESSMWW"],
                diagnosis: "Controls heat settings, cycle timing, and motor functions"
            },
            {
                partNumber: "WD21X24901",
                brand: "ge",
                appliance: "dishwasher",
                name: "Control Board",
                symptoms: ["wont_start", "cycle_problems", "display_issues"],
                errorCodes: ["C1", "C2", "C6", "C7"],
                models: ["GDT695SSJSS", "GDF630PGRWW", "GDT545PGJWW"],
                diagnosis: "Main control for wash cycles, water heating, and user interface"
            },

            // LG PARTS
            {
                partNumber: "EBR78534409",
                brand: "lg",
                appliance: "washer",
                name: "PCB Main Control",
                symptoms: ["no_power", "wont_drain", "spin_issues"],
                errorCodes: ["OE", "UE", "LE", "FE"],
                models: ["WM3500CW", "WM3900HWA", "WM4000HWA"],
                diagnosis: "Controls wash motor, drain pump, and load balancing system"
            },
            {
                partNumber: "EBR73304203",
                brand: "lg",
                appliance: "dryer",
                name: "Main PCB Board",
                symptoms: ["no_heat", "wont_start", "sensor_issues"],
                errorCodes: ["d80", "d90", "d95", "tE1"],
                models: ["DLEX3900B", "DLEX3900W", "DLE3500W"],
                diagnosis: "Manages heating element, moisture sensors, and safety systems"
            },
            {
                partNumber: "EBR84240401",
                brand: "lg",
                appliance: "dishwasher",
                name: "Control Board",
                symptoms: ["wont_start", "water_issues", "cleaning_problems"],
                errorCodes: ["OE", "FE", "1E", "HE"],
                models: ["LDT7808SS", "LDP6797ST", "LDF5545ST"],
                diagnosis: "Controls water intake, spray arms, and wash cycle programs"
            },

            // SAMSUNG PARTS
            {
                partNumber: "DC92-01019A",
                brand: "samsung",
                appliance: "washer",
                name: "Main Control Board",
                symptoms: ["no_power", "door_issues", "cycle_problems"],
                errorCodes: ["4C", "5C", "DC", "UC"],
                models: ["WF45K6200AW", "WF42H5000AW", "WF50K7500AW"],
                diagnosis: "Primary controller for wash functions and door lock system"
            },
            {
                partNumber: "DC92-00669A",
                brand: "samsung",
                appliance: "dryer",
                name: "Electronic Control Board",
                symptoms: ["no_heat", "temperature_issues", "time_issues"],
                errorCodes: ["HC", "tS", "C80", "HE2"],
                models: ["DV42H5000EW", "DV45K6200EW", "DV50K7500EV"],
                diagnosis: "Controls heating system, temperature sensors, and cycle timing"
            },
            {
                partNumber: "DE41-00519A",
                brand: "samsung",
                appliance: "dishwasher",
                name: "Control Module",
                symptoms: ["wont_start", "water_issues", "display_problems"],
                errorCodes: ["4C", "5C", "9C", "PC"],
                models: ["DW80R9950UT", "DW80R5060US", "DW80R7060US"],
                diagnosis: "Main control for water systems, pumps, and user interface"
            },

            // FRIGIDAIRE PARTS
            {
                partNumber: "137006200",
                brand: "frigidaire",
                appliance: "washer",
                name: "Control Board",
                symptoms: ["no_power", "wont_start", "agitator_issues"],
                errorCodes: ["E20", "E21", "E23", "E24"],
                models: ["FAFW3801LW", "FAFW4011LW", "FFTW1001PW"],
                diagnosis: "Controls motor, agitator, and water level systems"
            },
            {
                partNumber: "134503612",
                brand: "frigidaire",
                appliance: "dryer",
                name: "Control Board",
                symptoms: ["no_heat", "wont_start", "timer_problems"],
                errorCodes: ["E64", "E68", "EF1", "EF2"],
                models: ["FFRE4120SW", "FFRG4120SW", "FFQE5000QW"],
                diagnosis: "Primary control for heating elements and cycle timing"
            },

            // MAYTAG PARTS
            {
                partNumber: "W10906394",
                brand: "maytag",
                appliance: "washer",
                name: "Control Board",
                symptoms: ["no_power", "wont_drain", "lid_issues"],
                errorCodes: ["F21", "F02", "Lid", "dU"],
                models: ["MVWC465HW", "MVWC565FW", "MVWX655DW"],
                diagnosis: "Controls wash cycles, lid lock, and drain operations"
            },
            {
                partNumber: "W10840140",
                brand: "maytag",
                appliance: "dryer",
                name: "Electronic Control",
                symptoms: ["no_heat", "temperature_issues", "cycle_issues"],
                errorCodes: ["F01", "F02", "F70", "F28"],
                models: ["MEDC465HW", "MEDC555DW", "MGDC465HW"],
                diagnosis: "Manages heating system, sensors, and cycle programs"
            }
        ];

        // Initialize the application
        function init() {
            allParts = partsDatabase;
            populatePartsTable();
        }

        // Diagnostic Wizard Functions
        function selectAppliance(appliance) {
            currentAppliance = appliance;
            
            // Update UI
            document.querySelectorAll('.diagnostic-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // Show brand selection
            const brandStep = document.getElementById('brandStep');
            const brandOptions = document.getElementById('brandOptions');
            
            // Get all available brands for this appliance
            const brands = [...new Set(partsDatabase
                .filter(part => part.appliance === appliance)
                .map(part => part.brand))];
            
            brandOptions.innerHTML = brands.map(brand => 
                `<div class="diagnostic-btn" onclick="selectBrand('${brand}')">${brand.charAt(0).toUpperCase() + brand.slice(1)}</div>`
            ).join('');
            
            brandStep.style.display = 'block';
            
            // Hide subsequent steps
            document.getElementById('symptomStep').style.display = 'none';
            document.getElementById('diagnosticResults').style.display = 'none';
        }

        function selectBrand(brand) {
            currentBrand = brand;
            
            // Update UI
            document.querySelectorAll('#brandOptions .diagnostic-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // Show symptom selection
            const symptomStep = document.getElementById('symptomStep');
            const symptomOptions = document.getElementById('symptomOptions');
            
            // Get symptoms for this appliance and brand combination
            const symptoms = [...new Set(partsDatabase
                .filter(part => part.appliance === currentAppliance && part.brand === currentBrand)
                .flatMap(part => part.symptoms))];
            
            // Create symptom options with readable names
            const symptomNames = {
                'no_power': 'üîå No Power',
                'wont_start': '‚ñ∂Ô∏è Won\'t Start',
                'no_heat': 'üå°Ô∏è No Heat',
                'wont_drain': 'üíß Won\'t Drain',
                'making_noise': 'üîä Making Noise',
                'door_issues': 'üö™ Door Issues',
                'temperature_issues': 'üå°Ô∏è Temperature Issues',
                'water_issues': 'üíß Water Issues',
                'cycle_issues': 'üîÑ Cycle Problems',
                'display_issues': 'üì∫ Display Issues',
                'spin_issues': 'üå™Ô∏è Spin Issues',
                'agitator_issues': 'üîÑ Agitator Issues',
                'lid_issues': 'üîí Lid Issues',
                'sensor_issues': 'üì° Sensor Issues',
                'timer_issues': '‚è≤Ô∏è Timer Issues',
                'cleaning_problems': 'üßΩ Cleaning Problems',
                'cycle_problems': 'üîÑ Cycle Problems',
                'timer_problems': '‚è≤Ô∏è Timer Problems'
            };
            
            symptomOptions.innerHTML = symptoms.map(symptom => 
                `<div class="diagnostic-btn" onclick="selectSymptom('${symptom}')">${symptomNames[symptom] || symptom}</div>`
            ).join('');
            
            symptomStep.style.display = 'block';
            document.getElementById('diagnosticResults').style.display = 'none';
        }

        function selectSymptom(symptom) {
            // Update UI
            document.querySelectorAll('#symptomOptions .diagnostic-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // Find matching parts
            const matchingParts = partsDatabase.filter(part => 
                part.appliance === currentAppliance && 
                part.brand === currentBrand && 
                part.symptoms.includes(symptom)
            );
            
            // Show results
            const resultsDiv = document.getElementById('diagnosticResults');
            const diagnosisText = document.getElementById('diagnosisText');
            const recommendedParts = document.getElementById('recommendedParts');
            
            if (matchingParts.length > 0) {
                const part = matchingParts[0]; // Take the first matching part
                
                diagnosisText.innerHTML = `
                    <p><strong>Diagnosis:</strong> ${part.diagnosis}</p>
                    <p><strong>Brand:</strong> ${part.brand.toUpperCase()}</p>
                    <p><strong>Appliance:</strong> ${part.appliance.charAt(0).toUpperCase() + part.appliance.slice(1)}</p>
                    <p><strong>Common Error Codes:</strong> ${part.errorCodes.join(', ')}</p>
                `;
                
                recommendedParts.innerHTML = `
                    <h4>üîß Recommended Part:</h4>
                    <div style="background: white; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <p><strong>Part Number:</strong> ${part.partNumber}</p>
                        <p><strong>Description:</strong> ${part.name}</p>
                        <p><strong>Compatible Models:</strong> ${part.models.join(', ')}</p>
                    </div>
                `;
            } else {
                diagnosisText.innerHTML = `<p>No specific parts found for this combination. Please check our parts database below or contact support.</p>`;
                recommendedParts.innerHTML = '';
            }
            
            resultsDiv.style.display = 'block';
        }

        // Quick diagnosis functions
        function quickDiagnose(symptom) {
            const symptomDescriptions = {
                'no_power': 'No Power - Check main control boards and power supply components',
                'wont_start': 'Won\'t Start - Likely door lock, control board, or safety switch issues',
                'no_heat': 'No Heat - Heating element control boards or temperature sensors',
                'wont_drain': 'Won\'t Drain - Drain pump control or water level sensor issues',
                'making_noise': 'Making Noise - Motor control boards or bearing assemblies',
                'door_issues': 'Door Issues - Door lock mechanisms and control boards',
                'temperature_issues': 'Temperature Issues - Temperature sensors and control boards',
                'water_issues': 'Water Issues - Water valve controls and level sensors'
            };

            // Filter parts database by symptom
            const matchingParts = partsDatabase.filter(part => part.symptoms.includes(symptom));
            
            // Update parts table to show only matching parts
            displayFilteredParts(matchingParts);
            
            // Scroll to parts database
            document.querySelector('.parts-database').scrollIntoView({ behavior: 'smooth' });
        }

        // Error code diagnosis
        function diagnoseErrorCode() {
            const errorCode = document.getElementById('errorCodeInput').value.trim().toLowerCase();
            const resultsDiv = document.getElementById('errorCodeResults');
            
            if (!errorCode) {
                resultsDiv.innerHTML = '<p style="color: red;">Please enter an error code.</p>';
                return;
            }
            
            // Find parts that handle this error code
            const matchingParts = partsDatabase.filter(part => 
                part.errorCodes.some(code => code.toLowerCase() === errorCode)
            );
            
            if (matchingParts.length > 0) {
                let resultHTML = `<h4>üéØ Error Code "${errorCode.toUpperCase()}" Found!</h4>`;
                
                matchingParts.forEach(part => {
                    resultHTML += `
                        <div style="background: white; padding: 1rem; border-radius: 8px; margin: 0.5rem 0; border-left: 4px solid #2a5298;">
                            <p><strong>${part.brand.toUpperCase()} ${part.appliance.toUpperCase()}</strong></p>
                            <p><strong>Part:</strong> ${part.partNumber} - ${part.name}</p>
                            <p><strong>Diagnosis:</strong> ${part.diagnosis}</p>
                            <p><strong>Models:</strong> ${part.models.join(', ')}</p>
                        </div>
                    `;
                });
                
                resultsDiv.innerHTML = resultHTML;
            } else {
                resultsDiv.innerHTML = `
                    <div style="background: #ffe6e6; padding: 1rem; border-radius: 8px; border-left: 4px solid #ff4444;">
                        <p><strong>Error code "${errorCode.toUpperCase()}" not found in our database.</strong></p>
                        <p>Try searching our parts database below or contact technical support.</p>
                    </div>
                `;
            }
        }

        // Parts database functions
        function populatePartsTable() {
            const tbody = document.getElementById('partsTableBody');
            tbody.innerHTML = '';
            
            allParts.forEach(part => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td><strong>${part.partNumber}</strong><br><small>${part.name}</small></td>
                    <td><span class="brand-badge">${part.brand.toUpperCase()}</span></td>
                    <td>${part.appliance.charAt(0).toUpperCase() + part.appliance.slice(1)}</td>
                    <td class="compatibility-list">${part.symptoms.map(s => s.replace('_', ' ')).join(', ')}</td>
                    <td><strong>${part.errorCodes.join(', ')}</strong></td>
                    <td class="compatibility-list">${part.models.join(', ')}</td>
                `;
            });
        }

        function displayFilteredParts(parts) {
            const tbody = document.getElementById('partsTableBody');
            tbody.innerHTML = '';
            
            parts.forEach(part => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td><strong>${part.partNumber}</strong><br><small>${part.name}</small></td>
                    <td><span class="brand-badge">${part.brand.toUpperCase()}</span></td>
                    <td>${part.appliance.charAt(0).toUpperCase() + part.appliance.slice(1)}</td>
                    <td class="compatibility-list">${part.symptoms.map(s => s.replace('_', ' ')).join(', ')}</td>
                    <td><strong>${part.errorCodes.join(', ')}</strong></td>
                    <td class="compatibility-list">${part.models.join(', ')}</td>
                `;
            });
        }

        function filterParts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const brandFilter = document.getElementById('brandFilter').value;
            const applianceFilter = document.getElementById('applianceFilter').value;
            const symptomFilter = document.getElementById('symptomFilter').value;
            
            let filteredParts = partsDatabase.filter(part => {
                const matchesSearch = !searchTerm || 
                    part.partNumber.toLowerCase().includes(searchTerm) ||
                    part.name.toLowerCase().includes(searchTerm) ||
                    part.models.some(model => model.toLowerCase().includes(searchTerm));
                
                const matchesBrand = !brandFilter || part.brand === brandFilter;
                const matchesAppliance = !applianceFilter || part.appliance === applianceFilter;
                const matchesSymptom = !symptomFilter || part.symptoms.includes(symptomFilter);
                
                return matchesSearch && matchesBrand && matchesAppliance && matchesSymptom;
            });
            
            displayFilteredParts(filteredParts);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
