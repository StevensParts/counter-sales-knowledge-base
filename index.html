<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter Sales Knowledge Base - Steven's Parts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .search-section {
            padding: 40px;
            background: #f8f9fa;
        }

        .search-container {
            position: relative;
            max-width: 600px;
            margin: 0 auto;
        }

        #searchBox {
            width: 100%;
            padding: 20px 60px 20px 20px;
            font-size: 18px;
            border: 3px solid #e0e6ed;
            border-radius: 50px;
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        #searchBox:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
            transform: translateY(-2px);
        }

        .search-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-btn:hover {
            background: #5a67d8;
            transform: translateY(-50%) scale(1.05);
        }

        .search-btn::after {
            content: "üîç";
            font-size: 18px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-weight: 500;
        }

        .results-section {
            padding: 0 40px 40px;
        }

        #searchResults {
            max-width: 1000px;
            margin: 0 auto;
        }

        .result-item {
            background: white;
            margin: 15px 0;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
        }

        .result-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .result-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .result-brand {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .result-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .result-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            font-size: 0.9em;
            color: #888;
        }

        .result-meta span {
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 8px;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .no-results h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .search-section {
                padding: 20px;
            }
            
            #searchBox {
                font-size: 16px;
                padding: 15px 50px 15px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Counter Sales Knowledge Base</h1>
            <p>Steven's Parts - Find Appliance Parts & Error Codes</p>
        </div>

        <div class="search-section">
            <div class="search-container">
                <input type="text" id="searchBox" placeholder="Search by part number, error code, brand, or appliance type..." title="Search for parts">
                <button class="search-btn" onclick="performSearch()"></button>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalParts">124</div>
                    <div class="stat-label">Total Parts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="inStockParts">98</div>
                    <div class="stat-label">In Stock</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="applianceTypes">8</div>
                    <div class="stat-label">Appliance Types</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="partCategories">10</div>
                    <div class="stat-label">Brands</div>
                </div>
            </div>
        </div>

        <div class="results-section">
            <div id="searchResults"></div>
        </div>
    </div>

    <script>
        // PARTS DATABASE
        const knowledgeBase = [
            // WHIRLPOOL PARTS
            {
                partNumber: "W10310240",
                title: "Electronic Control Board",
                brand: "Whirlpool",
                appliance: "Washer",
                description: "Main electronic control board for front-load washers. Controls all wash cycles and diagnostic functions.",
                errorCodes: ["F1-E1", "F3-E1"],
                compatibility: ["WFW9351YW", "WFW8630HW", "WFW75HEFW"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "W10619654",
                title: "Door Lock Assembly",
                brand: "Whirlpool",
                appliance: "Washer",
                description: "Complete door lock assembly with switch for front-load washers. Includes safety interlock mechanism.",
                errorCodes: ["F2-E1", "dL"],
                compatibility: ["WFW9351YW", "WFW8630HW"],
                inStock: true,
                category: "Door Components"
            },
            {
                partNumber: "W10348269",
                title: "Drain Pump Motor",
                brand: "Whirlpool",
                appliance: "Washer",
                description: "High-efficiency drain pump motor for front and top-load washers. 120V AC motor with impeller.",
                errorCodes: ["F9-E1", "dL"],
                compatibility: ["WTW7500GC", "WFW9351YW"],
                inStock: true,
                category: "Motors & Pumps"
            },
            {
                partNumber: "W11227912",
                title: "Oven Temperature Sensor",
                brand: "Whirlpool",
                appliance: "Range",
                description: "RTD temperature sensor for electric and gas ranges. Monitors oven temperature for accurate cooking.",
                errorCodes: ["F3-E2", "F1-E5"],
                compatibility: ["WFE505W0HZ", "WGE745C0FS"],
                inStock: true,
                category: "Temperature Sensors"
            },
            {
                partNumber: "W10860464",
                title: "Electronic Control Board",
                brand: "Whirlpool",
                appliance: "Washer",
                description: "Main control board for front-load washers. Controls wash cycles, water temperature, and spin speeds.",
                errorCodes: ["F1-E1", "F3-E1", "F5-E2"],
                compatibility: ["WFW9351YW", "WFW8630HW", "WFW85HEFW"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "W11603810",
                title: "Washer Control Board",
                brand: "Whirlpool",
                appliance: "Washer",
                description: "Advanced control board for top-load washers with digital display. Features F3E1 pressure sensor control.",
                errorCodes: ["F3-E1", "F9-E1", "dL"],
                compatibility: ["WTW4816FW", "WTW4655JW", "WTW4850HW"],
                inStock: false,
                category: "Control Boards"
            },
            {
                partNumber: "W10295370A",
                title: "Refrigerator Ice Maker Assembly",
                brand: "Whirlpool",
                appliance: "Refrigerator",
                description: "Complete ice maker assembly for side-by-side refrigerators with automatic ice production.",
                errorCodes: ["OF OF", "ER IF"],
                compatibility: ["WRS325FDAM", "WRS588FIHZ", "WRX735SDHZ"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "W10884390",
                title: "Ice Maker Kit",
                brand: "Whirlpool",
                appliance: "Refrigerator",
                description: "Ice maker assembly kit for French door refrigerators with flexible ice tray design.",
                errorCodes: ["OF OF", "ER IF", "88 88"],
                compatibility: ["WRF757SDEM", "WRF767SDEM", "WRF540CWHZ"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "W10408179",
                title: "Water Inlet Valve Kit",
                brand: "Whirlpool",
                appliance: "Refrigerator",
                description: "Water inlet valve that provides water for ice maker and water dispenser with dual solenoids.",
                errorCodes: ["ER dH", "OF OF"],
                compatibility: ["WRS325FDAM", "WRF757SDEM", "WRS588FIHZ"],
                inStock: true,
                category: "Water Systems"
            },
            {
                partNumber: "W10195054",
                title: "Washer Water Inlet Valve",
                brand: "Whirlpool",
                appliance: "Washer",
                description: "Hot and cold water inlet valve assembly for front-load and top-load washers.",
                errorCodes: ["F2-E1", "F8-E1"],
                compatibility: ["WFW9351YW", "WTW7500GC"],
                inStock: true,
                category: "Water Systems"
            },

            // LG PARTS
            {
                partNumber: "4681EA2001T",
                title: "Drain Pump Assembly",
                brand: "LG",
                appliance: "Washer",
                description: "Complete drain pump assembly for LG front-load washers. Includes motor, housing, and filter access.",
                errorCodes: ["OE", "1E"],
                compatibility: ["WM3770HWA", "WM4270HWA"],
                inStock: true,
                category: "Motors & Pumps"
            },
            {
                partNumber: "5220FR2075L",
                title: "Water Level Pressure Switch",
                brand: "LG",
                appliance: "Washer",
                description: "Water level pressure switch assembly. Controls water fill levels and prevents overfill conditions.",
                errorCodes: ["FE", "PE"],
                compatibility: ["WM3770HWA", "WM2487HRMA"],
                inStock: false,
                category: "Switches & Controls"
            },
            {
                partNumber: "EBR73304203",
                title: "Main Control Board PCB",
                brand: "LG",
                appliance: "Refrigerator",
                description: "Main control board for LG refrigerators with inverter compressor. Controls cooling, defrost, and diagnostics.",
                errorCodes: ["ER IF", "ER FF"],
                compatibility: ["LFXS28968S", "LMXS30776S"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "EBR67466109",
                title: "Washer Main Control Board",
                brand: "LG",
                appliance: "Washer",
                description: "Main control board manages washer functions including filling, washing, draining and spinning.",
                errorCodes: ["OE", "FE", "UE", "IE"],
                compatibility: ["WM3770HWA", "WM4270HWA", "WM2487HRMA"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "AEQ73110219",
                title: "Ice Maker Assembly",
                brand: "LG",
                appliance: "Refrigerator",
                description: "Complete ice maker assembly for LG French door refrigerators with smart diagnostics.",
                errorCodes: ["ER IF", "ER FF", "OF OF"],
                compatibility: ["LFXS28968S", "LMXS30776S", "LFXC24796S"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "5220FR2075L",
                title: "Cold Water Inlet Valve",
                brand: "LG",
                appliance: "Washer",
                description: "Cold water inlet valve assembly that controls water flow and prevents overfill conditions.",
                errorCodes: ["FE", "PE", "OE"],
                compatibility: ["WM3770HWA", "WM4270HWA", "WM2487HRMA"],
                inStock: true,
                category: "Water Systems"
            },

            // GE PARTS
            {
                partNumber: "WH12X10355",
                title: "Water Pump Motor",
                brand: "GE",
                appliance: "Dishwasher",
                description: "Main wash pump motor for GE dishwashers. High-pressure pump for superior cleaning performance.",
                errorCodes: ["C1", "C2"],
                compatibility: ["GDF630PSS", "PDT775SSF"],
                inStock: true,
                category: "Motors & Pumps"
            },
            {
                partNumber: "WR55X10942",
                title: "Defrost Heater Assembly",
                brand: "GE",
                appliance: "Refrigerator",
                description: "Defrost heater assembly for GE side-by-side refrigerators. Prevents ice buildup on evaporator coils.",
                errorCodes: ["FF", "F0"],
                compatibility: ["GSS25GSHSS", "PSS28KSHSS"],
                inStock: true,
                category: "Heating Elements"
            },
            {
                partNumber: "WR55X10942",
                title: "Refrigerator Main Control Board",
                brand: "GE",
                appliance: "Refrigerator",
                description: "Main control board assembly for side-by-side refrigerators with temperature management.",
                errorCodes: ["ER RF", "ER CF", "FF"],
                compatibility: ["GDS22KCWAWW", "PDS22MFSABB", "PDS22MFSACC"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "WR30X10093",
                title: "Electronic Ice Maker Assembly",
                brand: "GE",
                appliance: "Refrigerator",
                description: "Electronic ice maker assembly kit with advanced diagnostics and cycle control.",
                errorCodes: ["88 88", "ER IF"],
                compatibility: ["GSS25GSHSS", "PSS28KSHSS", "GFE28GMKES"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "WR57X10051",
                title: "Dual Solenoid Water Valve",
                brand: "GE",
                appliance: "Refrigerator",
                description: "Dual solenoid inlet water valve for refrigerators with ice maker and water dispenser.",
                errorCodes: ["ER dH", "ER IF"],
                compatibility: ["GSS25GSHSS", "PDS22MFSABB", "GFE28GMKES"],
                inStock: true,
                category: "Water Systems"
            },

            // SAMSUNG PARTS
            {
                partNumber: "DC97-16782A",
                title: "Drum Spider Assembly",
                brand: "Samsung",
                appliance: "Washer",
                description: "Heavy-duty drum spider assembly for Samsung front-load washers. Aluminum construction with bearing support.",
                errorCodes: ["UB", "UE"],
                compatibility: ["WF42H5000AW", "WF45K6200AW"],
                inStock: false,
                category: "Drum Components"
            },
            {
                partNumber: "DA97-12540A",
                title: "Ice Maker Assembly",
                brand: "Samsung",
                appliance: "Refrigerator",
                description: "Complete ice maker assembly for Samsung French door refrigerators. Includes control module and harvest motor.",
                errorCodes: ["88 88", "OF OF"],
                compatibility: ["RF28HMEDBSR", "RF23J9011SR"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "DC92-01531B",
                title: "Washer Control Board Assembly",
                brand: "Samsung",
                appliance: "Washer",
                description: "Control board assembly for Samsung front-load washers with smart diagnostics.",
                errorCodes: ["UB", "UE", "4C", "5C"],
                compatibility: ["WF42H5000AW", "WF45K6200AW", "WF50K7500AV"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "DA97-05422A",
                title: "Ice Maker Assembly (7-Cube)",
                brand: "Samsung",
                appliance: "Refrigerator",
                description: "7-cube ice maker assembly for Samsung French door refrigerators with flex tray design.",
                errorCodes: ["88 88", "OF OF", "PC ER"],
                compatibility: ["RF267AARS", "RF267ABRS", "RF26VABBP"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "DA62-01477A",
                title: "Water Inlet Valve",
                brand: "Samsung",
                appliance: "Refrigerator",
                description: "Water inlet valve assembly for Samsung refrigerators with precise flow control.",
                errorCodes: ["PC ER", "88 88"],
                compatibility: ["RF28HMEDBSR", "RF23J9011SR", "RS25H5111SG"],
                inStock: true,
                category: "Water Systems"
            },

            // KENMORE PARTS
            {
                partNumber: "137108100",
                title: "Dryer Heating Element",
                brand: "Kenmore",
                appliance: "Dryer",
                description: "High-wattage heating element for Kenmore electric dryers. Coiled nichrome wire element with ceramic insulators.",
                errorCodes: ["F01", "F02"],
                compatibility: ["110.65132400", "110.68132800"],
                inStock: true,
                category: "Heating Elements"
            },

            // FRIGIDAIRE PARTS
            {
                partNumber: "5304505394",
                title: "Oven Control Board",
                brand: "Frigidaire",
                appliance: "Range",
                description: "Electronic oven control board for Frigidaire electric ranges. Touch pad compatible with clock and timer functions.",
                errorCodes: ["F10", "F11"],
                compatibility: ["FGEF3032MF", "CGEF3032MF"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "241798224",
                title: "Ice Maker Kit",
                brand: "Frigidaire",
                appliance: "Refrigerator",
                description: "Ice maker replacement kit for Frigidaire side-by-side and French door refrigerators.",
                errorCodes: ["ER IF", "OF OF"],
                compatibility: ["FFSS2615TS", "FFHB2750TS"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "241734301",
                title: "Water Inlet Valve",
                brand: "Frigidaire",
                appliance: "Refrigerator",
                description: "Single solenoid water inlet valve for Frigidaire refrigerators with ice maker feed.",
                errorCodes: ["ER IF", "OF OF"],
                compatibility: ["FFSS2615TS", "FFHB2750TS", "FGHS2631PF"],
                inStock: true,
                category: "Water Systems"
            },

            // KITCHENAID PARTS
            {
                partNumber: "W10219463",
                title: "Refrigerator Control Board",
                brand: "KitchenAid",
                appliance: "Refrigerator",
                description: "Main refrigerator control board for French door models with advanced cooling control.",
                errorCodes: ["ER dH", "ER CF", "ER IF"],
                compatibility: ["KRFF507HPS", "KRFC704FPS", "KRFF300ESS"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "W10084142",
                title: "Dishwasher Control Board",
                brand: "KitchenAid",
                appliance: "Dishwasher",
                description: "Main control board for dishwashers with ProWash cycle and soil sensor technology.",
                errorCodes: ["F2E2", "F6E4", "F7E1"],
                compatibility: ["KDTE334GPS", "KDTM354DSS"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "W10190965",
                title: "Ice Maker Assembly",
                brand: "KitchenAid",
                appliance: "Refrigerator",
                description: "Ice maker assembly for KitchenAid counter-depth refrigerators with premium ice quality.",
                errorCodes: ["OF OF", "ER IF"],
                compatibility: ["KRFF507HPS", "KRFC704FPS"],
                inStock: true,
                category: "Ice Systems"
            },
            {
                partNumber: "W10420083",
                title: "Water Inlet Valve Assembly",
                brand: "KitchenAid",
                appliance: "Refrigerator",
                description: "Water inlet valve assembly that supplies water to ice maker and water dispenser filter housing.",
                errorCodes: ["ER dH", "OF OF"],
                compatibility: ["KRFF507HPS", "KRFC704FPS", "KRFF300ESS"],
                inStock: true,
                category: "Water Systems"
            },

            // BOSCH PARTS
            {
                partNumber: "00754603",
                title: "Dishwasher Control Board",
                brand: "Bosch",
                appliance: "Dishwasher",
                description: "Electronic control board for Bosch dishwashers with AquaSensor and LoadSensor technology.",
                errorCodes: ["E09", "E15", "E22"],
                compatibility: ["SHP865WD5N", "SHPM65Z55N", "SHE68TL5UC"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "00622058",
                title: "Dishwasher Water Valve",
                brand: "Bosch",
                appliance: "Dishwasher",
                description: "Water inlet valve for Bosch dishwashers with AquaStop technology integration.",
                errorCodes: ["E15", "E22"],
                compatibility: ["SHP865WD5N", "SHPM65Z55N", "SHE68TL5UC"],
                inStock: true,
                category: "Water Systems"
            },

            // MAYTAG PARTS
            {
                partNumber: "W10174745",
                title: "Dryer Control Board",
                brand: "Maytag",
                appliance: "Dryer",
                description: "Electronic control board for dryers with moisture sensing and wrinkle prevention.",
                errorCodes: ["F01", "F02", "F22"],
                compatibility: ["MEDC465HW", "MGDC465HW", "MEDC555DW"],
                inStock: true,
                category: "Control Boards"
            },
            {
                partNumber: "W10159839",
                title: "Washer Water Inlet Valve",
                brand: "Maytag",
                appliance: "Washer",
                description: "Hot and cold water inlet valve for Maytag top-load washers with leak detection.",
                errorCodes: ["F8-E1", "F2-E1"],
                compatibility: ["MVWC465HW", "MVWC555DW"],
                inStock: true,
                category: "Water Systems"
            }
        ];

        // ERROR CODE DATABASE
        const errorCodes = {
            // Whirlpool Error Codes
            'F1-E1': { brand: 'Whirlpool', appliance: 'Washer', issue: 'Control board communication error', parts: ['W10310240', 'W10860464'], probability: 85 },
            'F2-E1': { brand: 'Whirlpool', appliance: 'Washer', issue: 'Door lock failure', parts: ['W10619654'], probability: 90 },
            'F9-E1': { brand: 'Whirlpool', appliance: 'Washer', issue: 'Drain pump failure', parts: ['W10348269'], probability: 95 },
            'F3-E2': { brand: 'Whirlpool', appliance: 'Range', issue: 'Oven temperature sensor failure', parts: ['W11227912'], probability: 80 },
            'F3-E1': { brand: 'Whirlpool', appliance: 'Washer', issue: 'Pressure sensor error or drain pump issue', parts: ['W11603810'], probability: 85 },
            'dL': { brand: 'Whirlpool', appliance: 'Washer', issue: 'Door lock error or drain issue', parts: ['W10619654', 'W10348269'], probability: 85 },
            
            // LG Error Codes
            'OE': { brand: 'LG', appliance: 'Washer', issue: 'Drain error - pump or clog', parts: ['4681EA2001T'], probability: 90 },
            'FE': { brand: 'LG', appliance: 'Washer', issue: 'Water overfill error', parts: ['5220FR2075L'], probability: 80 },
            'PE': { brand: 'LG', appliance: 'Washer', issue: 'Water level sensor error', parts: ['5220FR2075L'], probability: 75 },
            'UE': { brand: 'LG', appliance: 'Washer', issue: 'Unbalanced load error', parts: ['EBR67466109'], probability: 70 },
            'ER IF': { brand: 'LG', appliance: 'Refrigerator', issue: 'Ice fan error', parts: ['EBR73304203', 'AEQ73110219'], probability: 70 },
            
            // GE Error Codes
            'C1': { brand: 'GE', appliance: 'Dishwasher', issue: 'Wash pump motor failure', parts: ['WH12X10355'], probability: 85 },
            'C2': { brand: 'GE', appliance: 'Dishwasher', issue: 'Wash pump motor failure', parts: ['WH12X10355'], probability: 85 },
            'FF': { brand: 'GE', appliance: 'Refrigerator', issue: 'Freezer defrost error', parts: ['WR55X10942'], probability: 80 },
            
            // Samsung Error Codes
            'UB': { brand: 'Samsung', appliance: 'Washer', issue: 'Unbalanced load or drum issue', parts: ['DC97-16782A'], probability: 60 },
            'UE': { brand: 'Samsung', appliance: 'Washer', issue: 'Unbalanced load error', parts: ['DC92-01531B'], probability: 70 },
            '88 88': { brand: 'Samsung', appliance: 'Refrigerator', issue: 'Ice maker malfunction', parts: ['DA97-12540A', 'DA97-05422A'], probability: 75 },
            '4C': { brand: 'Samsung', appliance: 'Washer', issue: 'Water supply error', parts: ['DA62-01477A'], probability: 85 },
            
            // Frigidaire Error Codes
            'F10': { brand: 'Frigidaire', appliance: 'Range', issue: 'Oven overheating', parts: ['5304505394'], probability: 70 },
            'F11': { brand: 'Frigidaire', appliance: 'Range', issue: 'Oven control board failure', parts: ['5304505394'], probability: 80 },
            
            // KitchenAid Error Codes
            'F2E2': { brand: 'KitchenAid', appliance: 'Dishwasher', issue: 'UI board communication error', parts: ['W10084142'], probability: 75 },
            
            // Bosch Error Codes
            'E15': { brand: 'Bosch', appliance: 'Dishwasher', issue: 'Water in base pan (leak)', parts: ['00622058'], probability: 85 },
            
            // Kenmore Error Codes
            'F01': { brand: 'Kenmore', appliance: 'Dryer', issue: 'Heating element failure', parts: ['137108100'], probability: 90 },
            
            // Generic Ice Maker Codes
            'OF OF': { brand: 'Multiple', appliance: 'Refrigerator', issue: 'Ice maker turned off or malfunction', parts: ['W10295370A', 'WR30X10093', 'DA97-05422A'], probability: 80 }
        };

        // SEARCH FUNCTIONALITY
        function performSearch() {
            const searchTerm = document.getElementById('searchBox').value.trim().toLowerCase();
            const resultsContainer = document.getElementById('searchResults');
            
            console.log('Searching for:', searchTerm);
            
            if (!searchTerm) {
                resultsContainer.innerHTML = '';
                return;
            }

            let results = [];
            
            knowledgeBase.forEach(item => {
                let score = 0;
                let matchReasons = [];
                
                if (item.partNumber.toLowerCase() === searchTerm) {
                    score += 100;
                    matchReasons.push('Exact part number match');
                }
                else if (item.partNumber.toLowerCase().includes(searchTerm)) {
                    score += 80;
                    matchReasons.push('Part number contains search term');
                }
                
                if (item.errorCodes && item.errorCodes.some(code => code.toLowerCase().includes(searchTerm))) {
                    score += 70;
                    matchReasons.push('Related to error code');
                }
                
                if (item.brand.toLowerCase().includes(searchTerm)) {
                    score += 60;
                    matchReasons.push('Brand match');
                }
                
                if (item.appliance.toLowerCase().includes(searchTerm)) {
                    score += 50;
                    matchReasons.push('Appliance type match');
                }
                
                if (item.title.toLowerCase().includes(searchTerm)) {
                    score += 40;
                    matchReasons.push('Title contains search term');
                }
                
                if (item.description.toLowerCase().includes(searchTerm)) {
                    score += 30;
                    matchReasons.push('Description match');
                }
                
                if (item.category.toLowerCase().includes(searchTerm)) {
                    score += 25;
                    matchReasons.push('Category match');
                }
                
                if (score > 0) {
                    results.push({
                        item: item,
                        score: score,
                        reasons: matchReasons
                    });
                }
            });

            const errorCodeInfo = errorCodes[searchTerm.toUpperCase()];
            if (errorCodeInfo) {
                const relatedParts = knowledgeBase.filter(item => 
                    errorCodeInfo.parts.includes(item.partNumber)
                );
                
                relatedParts.forEach(part => {
                    const existingResult = results.find(r => r.item.partNumber === part.partNumber);
                    if (existingResult) {
                        existingResult.score += 90;
                        existingResult.errorCodeMatch = errorCodeInfo;
                    } else {
                        results.push({
                            item: part,
                            score: 90,
                            reasons: ['Error code diagnosis match'],
                            errorCodeMatch: errorCodeInfo
                        });
                    }
                });
            }

            results.sort((a, b) => b.score - a.score);
            
            console.log('Found results:', results.length);
            
            displayResults(results, searchTerm);
        }

        function displayResults(results, searchTerm) {
            const resultsContainer = document.getElementById('searchResults');
            
            if (results.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <h3>No results found for "${searchTerm}"</h3>
                        <p>Try searching for:</p>
                        <ul style="list-style: none; margin-top: 15px;">
                            <li>‚Ä¢ Part numbers (e.g., W10310240, DA97-05422A)</li>
                            <li>‚Ä¢ Error codes (e.g., F1-E1, OE, 88 88)</li>
                            <li>‚Ä¢ Appliance types (washer, dryer, refrigerator)</li>
                            <li>‚Ä¢ Brand names (Whirlpool, LG, GE, Samsung)</li>
                        </ul>
                    </div>
                `;
                return;
            }

            let html = `<h2 style="margin-bottom: 20px; color: #2c3e50;">Found ${results.length} result${results.length > 1 ? 's' : ''} for "${searchTerm}"</h2>`;
            
            results.forEach(result => {
                const item = result.item;
                const stockStatus = item.inStock ? 
                    '<span style="color: #27ae60;">‚úì In Stock</span>' : 
                    '<span style="color: #e74c3c;">‚ö† Out of Stock</span>';
                
                let errorCodeInfo = '';
                if (result.errorCodeMatch) {
                    errorCodeInfo = `
                        <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 5px;">
                            <strong>Error Code Diagnosis:</strong> ${result.errorCodeMatch.issue}<br>
                            <strong>Repair Probability:</strong> ${result.errorCodeMatch.probability}%
                        </div>
                    `;
                }
                
                html += `
                    <div class="result-item">
                        <div class="result-title">${item.partNumber} - ${item.title}</div>
                        <div class="result-brand">${item.brand} ${item.appliance}</div>
                        <div class="result-description">${item.description}</div>
                        ${errorCodeInfo}
                        <div class="result-meta">
                            <span><strong>Category:</strong> ${item.category}</span>
                            <span>${stockStatus}</span>
                            ${item.errorCodes && item.errorCodes.length > 0 ? 
                                `<span><strong>Error Codes:</strong> ${item.errorCodes.join(', ')}</span>` : ''}
                        </div>
                    </div>
                `;
            });
            
            resultsContainer.innerHTML = html;
        }

        function testSearch() {
            console.log('Testing search functionality...');
            console.log('Knowledge base items:', knowledgeBase.length);
            console.log('Error codes database entries:', Object.keys(errorCodes).length);
            
            document.getElementById('searchBox').value = 'control';
            performSearch();
            
            console.log('Test complete - check results above');
        }

        document.addEventListener('DOMContentLoaded', function() {
            const searchBox = document.getElementById('searchBox');
            
            searchBox.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
            
            let searchTimeout;
            searchBox.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(performSearch, 300);
            });
            
            console.log('Search system loaded and ready!');
        });

        window.performSearch = performSearch;
        window.testSearch = testSearch;
        window.knowledgeBase = knowledgeBase;
    </script>
</body>
</html>
