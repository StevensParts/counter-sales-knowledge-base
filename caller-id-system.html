<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stevens Parts - Counter Sales Knowledge Base & Caller ID</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.9);
            margin-top: 5px;
            font-weight: 500;
        }

        .main-content {
            padding: 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        .caller-id-section, .parts-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.8em;
            margin-bottom: 25px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-box {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .recent-calls {
            margin-top: 20px;
        }

        .recent-title {
            font-size: 1.2em;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .recent-call {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f2ff 100%);
            border: 1px solid #e0e8f0;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .recent-call:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .live-call {
            animation: pulse 2s infinite;
            border-color: #e74c3c;
            background: linear-gradient(135deg, #ffe8e6 0%, #ffebeb 100%);
        }

        .apartment-account {
            border-left: 5px solid #f39c12;
        }

        .vip-account {
            border-left: 5px solid #e74c3c;
        }

        .call-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .call-number {
            font-weight: bold;
            color: #2c3e50;
        }

        .call-time {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .call-name {
            color: #34495e;
            font-size: 0.95em;
        }

        .call-details {
            margin-top: 10px;
            padding: 10px;
            background: rgba(255,255,255,0.7);
            border-radius: 8px;
            font-size: 0.9em;
        }

        .quick-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quick-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .quick-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .diagnostic-wizard {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f2ff 100%);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #e0e8f0;
        }

        .wizard-title {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .wizard-step {
            margin-bottom: 20px;
        }

        .wizard-label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }

        .results-area {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px solid #e8f5e8;
            display: none;
        }

        .part-result {
            background: linear-gradient(135deg, #f8fff8 0%, #e8f8e8 100%);
            border: 1px solid #d4edda;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .part-number {
            font-size: 1.2em;
            font-weight: bold;
            color: #155724;
            margin-bottom: 5px;
        }

        .part-price {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.1em;
            float: right;
        }

        .part-description {
            color: #495057;
            margin-bottom: 8px;
        }

        .part-models {
            font-size: 0.9em;
            color: #6c757d;
            font-style: italic;
        }

        .customer-info {
            background: linear-gradient(135deg, #fff8e1 0%, #fff3c4 100%);
            border: 2px solid #ffcc02;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .customer-name {
            font-size: 1.4em;
            font-weight: bold;
            color: #f57f17;
            margin-bottom: 10px;
        }

        .customer-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .customer-detail {
            color: #ef6c00;
        }

        .customer-label {
            font-weight: bold;
            margin-bottom: 5px;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .status-live { background: #e74c3c; }
        .status-vip { background: #f39c12; }
        .status-apartment { background: #3498db; }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .tab-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-btn {
            padding: 12px 20px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè™ Stevens Parts - Counter Sales Knowledge Base</h1>
            <p>Complete Parts Database & Live Caller ID System</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number">2,847</div>
                <div class="stat-label">Parts Database</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">1,456</div>
                <div class="stat-label">Known Customers</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3</div>
                <div class="stat-label">Incoming Calls</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">15</div>
                <div class="stat-label">Staff Available</div>
            </div>
        </div>

        <div class="main-content">
            <!-- Caller ID Section -->
            <div class="caller-id-section">
                <h2 class="section-title">üì± Live Caller ID & Customer Lookup</h2>
                
                <input type="text" class="search-box" placeholder="Enter phone number... (402) 555-0123" id="phoneSearch" maxlength="14">
                
                <div class="quick-buttons">
                    <button class="quick-btn" onclick="searchPhone('(402) 555-1234')">Test Omaha Account</button>
                    <button class="quick-btn" onclick="searchPhone('(708) 555-9876')">Test Apartment</button>
                    <button class="quick-btn" onclick="searchPhone('(773) 555-5555')">Test VIP Account</button>
                    <button class="quick-btn" onclick="clearCallerSearch()">Clear Lookup</button>
                </div>

                <div id="customerInfo" class="customer-info">
                    <!-- Customer information will be displayed here -->
                </div>
                
                <div class="recent-calls">
                    <div class="recent-title">üî¥ Live Incoming Calls</div>
                    
                    <div class="recent-call live-call" onclick="searchPhone('(402) 555-1234')">
                        <div class="call-info">
                            <div class="call-number"><span class="status-indicator status-live"></span>(402) 555-1234</div>
                            <div class="call-time">RINGING NOW</div>
                        </div>
                        <div class="call-name">Seldin Property Management - Main Office</div>
                        <div class="call-details">Apartment Complex ‚Ä¢ 147 units ‚Ä¢ Requires PO Numbers</div>
                    </div>

                    <div class="recent-call vip-account" onclick="searchPhone('(773) 555-5555')">
                        <div class="call-info">
                            <div class="call-number"><span class="status-indicator status-vip"></span>(773) 555-5555</div>
                            <div class="call-time">2 min ago</div>
                        </div>
                        <div class="call-name">Premium Home Services ‚≠ê VIP</div>
                        <div class="call-details">15% Discount ‚Ä¢ Priority Service ‚Ä¢ Net 30 Terms</div>
                    </div>
                    
                    <div class="recent-call apartment-account" onclick="searchPhone('(708) 555-9876')">
                        <div class="call-info">
                            <div class="call-number"><span class="status-indicator status-apartment"></span>(708) 555-9876</div>
                            <div class="call-time">8 min ago</div>
                        </div>
                        <div class="call-name">Broodmoore Apartments - Unit 304</div>
                        <div class="call-details">Large Complex ‚Ä¢ 240 units ‚Ä¢ Bulk Orders</div>
                    </div>
                    
                    <div class="recent-call" onclick="searchPhone('(515) 555-7890')">
                        <div class="call-info">
                            <div class="call-number">(515) 555-7890</div>
                            <div class="call-time">15 min ago</div>
                        </div>
                        <div class="call-name">Johnson Family Residence</div>
                        <div class="call-details">Regular Customer ‚Ä¢ Whirlpool Washer/Dryer</div>
                    </div>
                </div>
            </div>

            <!-- Parts Database Section -->
            <div class="parts-section">
                <h2 class="section-title">üîß Parts Database & Diagnostic Wizard</h2>
                
                <input type="text" class="search-box" placeholder="Search parts by model, brand, or part number..." id="partsSearch">
                
                <div class="tab-nav">
                    <div class="tab-btn active" onclick="switchTab('wizard')">Smart Wizard</div>
                    <div class="tab-btn" onclick="switchTab('search')">Direct Search</div>
                </div>

                <div id="wizard-tab" class="tab-content active">
                    <div class="diagnostic-wizard">
                        <div class="wizard-title">üßô‚Äç‚ôÇÔ∏è Smart Diagnostic Wizard</div>
                        
                        <div class="wizard-step">
                            <label class="wizard-label">1. Select Appliance Type:</label>
                            <select id="applianceType" onchange="updateBrands()">
                                <option value="">-- Choose Appliance --</option>
                                <option value="washer">Washer</option>
                                <option value="dryer">Dryer</option>
                                <option value="dishwasher">Dishwasher</option>
                                <option value="refrigerator">Refrigerator</option>
                                <option value="range">Range/Oven</option>
                                <option value="microwave">Microwave</option>
                            </select>
                        </div>

                        <div class="wizard-step">
                            <label class="wizard-label">2. Select Brand:</label>
                            <select id="brandSelect" onchange="updateSymptoms()">
                                <option value="">-- Choose Brand --</option>
                            </select>
                        </div>

                        <div class="wizard-step">
                            <label class="wizard-label">3. What's the Problem?</label>
                            <select id="symptomSelect" onchange="findParts()">
                                <option value="">-- Choose Symptom --</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div id="search-tab" class="tab-content">
                    <div class="quick-buttons">
                        <button class="quick-btn" onclick="quickSearch('washer control board')">Washer Controls</button>
                        <button class="quick-btn" onclick="quickSearch('dryer heating element')">Dryer Elements</button>
                        <button class="quick-btn" onclick="quickSearch('refrigerator compressor')">Fridge Compressors</button>
                        <button class="quick-btn" onclick="quickSearch('dishwasher pump')">Dishwasher Pumps</button>
                    </div>
                </div>

                <div id="partsResults" class="results-area">
                    <!-- Parts search results will be displayed here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Customer Database
        const customerDatabase = {
            "(402) 555-1234": {
                name: "Seldin Property Management",
                type: "Apartment Complex",
                contact: "Mike Stevens - Property Manager", 
                address: "1247 Dodge Street, Omaha, NE 68102",
                units: "147 units",
                terms: "Net 30 with PO Required",
                discount: "Volume Pricing",
                notes: "Large orders for appliance replacements. Always needs PO numbers. Prefers pickup.",
                history: "Customer since 2018 - $47,000 YTD"
            },
            "(773) 555-5555": {
                name: "Premium Home Services ‚≠ê VIP",
                type: "Service Company",
                contact: "Lisa Totten - Owner",
                address: "892 N Lincoln Ave, Chicago, IL 60614", 
                terms: "Net 30 Terms",
                discount: "15% VIP Discount",
                notes: "High volume repair company. Priority shipping. Emergency weekend service.",
                history: "VIP Customer since 2015 - $89,500 YTD"
            },
            "(708) 555-9876": {
                name: "Broodmoore Apartments",
                type: "Large Apartment Complex",
                contact: "Tom Hines - Maintenance Manager",
                address: "3450 Harlem Ave, Berwyn, IL 60402",
                units: "240 units", 
                terms: "Net 15 with credit approval",
                discount: "Bulk order pricing",
                notes: "Unit 304 has recurring dryer issues. Prefers Whirlpool parts.",
                history: "Customer since 2019 - $28,750 YTD"
            },
            "(515) 555-7890": {
                name: "Johnson Family Residence",
                type: "Residential Customer",
                contact: "Robert Johnson",
                address: "4521 Grand Ave, Des Moines, IA 50312",
                terms: "Cash/Credit Card",
                discount: "None",
                notes: "Whirlpool washer/dryer set purchased 2022. DIY repairs.",
                history: "Regular customer - $3,200 total"
            }
        };

        // Comprehensive Parts Database
        const partsDatabase = [
            // Washer Control Boards
            {
                partNumber: "W11316466",
                description: "Whirlpool Washer Electronic Control Board",
                appliance: "washer",
                brand: "whirlpool", 
                price: "$284.99",
                stock: 12,
                symptoms: ["Not starting", "No lights on display", "Error codes"],
                models: ["WFW9620HBK01", "WFW9620HBW01", "WFW9620HC01", "WFW8620HC01"]
            },
            {
                partNumber: "WH12X10468",
                description: "GE Washer Main Control Board",
                appliance: "washer",
                brand: "ge",
                price: "$312.45",
                stock: 8,
                symptoms: ["Won't fill with water", "Stuck on one cycle", "Display blank"],
                models: ["GFWN1000L0WW", "GFWN1100L0WW", "GFWH1200L0WW"]
            },
            {
                partNumber: "DC92-02394A", 
                description: "Samsung Washer Control Board Assembly",
                appliance: "washer",
                brand: "samsung",
                price: "$267.88",
                stock: 6,
                symptoms: ["Touchpad not responding", "Won't advance cycles", "Error codes"],
                models: ["WF45R6100AC", "WF45R6300AC", "WF50R8500AC"]
            },
            // Dryer Control Boards
            {
                partNumber: "W11676806",
                description: "Whirlpool Dryer Electronic Control Board",
                appliance: "dryer", 
                brand: "whirlpool",
                price: "$198.77",
                stock: 15,
                symptoms: ["Not heating", "Won't start", "No display lights"],
                models: ["WED7120HC1", "WGD7120HC1", "WED8120HC1"]
            },
            {
                partNumber: "WE04X26200",
                description: "GE Dryer Control Board",
                appliance: "dryer",
                brand: "ge", 
                price: "$245.32",
                stock: 9,
                symptoms: ["Runs but no heat", "Won't turn on", "Stuck on one temperature"],
                models: ["GTD72GBPN1DG", "GTD75GCPN1DG", "GTD76GCPN1DG"]
            },
            // Dishwasher Control Boards
            {
                partNumber: "W11239110",
                description: "Whirlpool Dishwasher Control Board",
                appliance: "dishwasher",
                brand: "whirlpool",
                price: "$189.99", 
                stock: 11,
                symptoms: ["Won't start wash cycle", "Control panel dead", "Lights flashing"],
                models: ["WDT750SAKZ1", "WDF520PADM7", "WDT710PAHZ1"]
            },
            {
                partNumber: "DD82-01711A",
                description: "Samsung Dishwasher PCB Control Board",
                appliance: "dishwasher",
                brand: "samsung",
                price: "$156.44",
                stock: 7,
                symptoms: ["No power to unit", "Buttons not working", "Won't fill"],
                models: ["DW80R5060US", "DW80R7060UG", "DW80R9950UG"]
            },
            // Heating Elements
            {
                partNumber: "DC47-00019A",
                description: "Samsung Dryer Heating Element",
                appliance: "dryer",
                brand: "samsung",
                price: "$67.89",
                stock: 24,
                symptoms: ["No heat", "Takes too long to dry", "Cold air only"],
                models: ["DV42H5000EW", "DV45H7000EW", "DV48H7400EW"]
            },
            {
                partNumber: "5400W1A018A",
                description: "LG Dryer Heating Element Assembly", 
                appliance: "dryer",
                brand: "lg",
                price: "$89.45",
                stock: 18,
                symptoms: ["No heat production", "Long dry times", "Element glowing red"],
                models: ["DLE7100W", "DLE7200W", "DLE7300WE"]
            },
            // Water Pumps
            {
                partNumber: "W10348269",
                description: "Whirlpool Washer Drain Pump",
                appliance: "washer", 
                brand: "whirlpool",
                price: "$78.99",
                stock: 22,
                symptoms: ["Won't drain", "Water left in tub", "Pump making noise"],
                models: ["WTW7120HC1", "WTW8120HC1", "WTW5105HC1"]
            },
            {
                partNumber: "WPW10348269",
                description: "Whirlpool Dishwasher Wash Pump Motor",
                appliance: "dishwasher",
                brand: "whirlpool", 
                price: "$145.67",
                stock: 13,
                symptoms: ["No water circulation", "Poor wash performance", "Grinding noise"],
                models: ["WDF520PADM7", "WDT750SAKZ1", "WDF540PADM7"]
            },
            // Door Parts & Seals
            {
                partNumber: "WPW10443885",
                description: "Whirlpool Washer Door Seal/Gasket",
                appliance: "washer",
                brand: "whirlpool",
                price: "$156.78",
                stock: 16,
                symptoms: ["Water leaking from door", "Mold on seal", "Door won't close"],
                models: ["WFW9620HBK01", "WFW8620HC01", "WFW7620HW01"]
            },
            // Motors & Drive Systems
            {
                partNumber: "W11414758", 
                description: "Whirlpool Washer Drive Motor",
                appliance: "washer",
                brand: "whirlpool",
                price: "$298.44",
                stock: 8,
                symptoms: ["Won't agitate", "Won't spin", "Motor humming"],
                models: ["WTW7120HC1", "WTW8120HC1", "WTW7040DW1"]
            },
            // Refrigerator Compressors
            {
                partNumber: "5304505350",
                description: "Frigidaire Refrigerator Compressor",
                appliance: "refrigerator",
                brand: "frigidaire",
                price: "$445.99",
                stock: 5,
                symptoms: ["Not cooling", "Running constantly", "Warm freezer"],
                models: ["FFTR1821TW", "FFTR2021TS", "FFTR1222QW"]
            },
            // Additional High-Volume Parts
            {
                partNumber: "W11259787",
                description: "Whirlpool Washer Water Level Pressure Switch",
                appliance: "washer",
                brand: "whirlpool", 
                price: "$67.99",
                stock: 25,
                symptoms: ["Overfilling with water", "Won't fill", "Wrong water level"],
                models: ["WTW5000DW1", "WTW5105HC1", "WTW7120HC1"]
            },
            {
                partNumber: "WE14M81",
                description: "GE Range Oven Igniter", 
                appliance: "range",
                brand: "ge",
                price: "$78.45",
                stock: 19,
                symptoms: ["Oven won't heat", "Gas smell", "Long preheat time"],
                models: ["JGS760BELTS", "JGB735DEPBB", "JGS750DEFBB"]
            },
            {
                partNumber: "6-920534",
                description: "Whirlpool Microwave Magnetron",
                appliance: "microwave", 
                brand: "whirlpool",
                price: "$267.89",
                stock: 7,
                symptoms: ["Not heating food", "Runs but cold", "Sparking inside"],
                models: ["WMH31017HZ1", "WMH32519HZ1", "WMH53521HZ1"]
            }
        ];

        // Brand options for each appliance type
        const brandOptions = {
            washer: ["whirlpool", "ge", "samsung", "lg", "maytag", "frigidaire", "kenmore"],
            dryer: ["whirlpool", "ge", "samsung", "lg", "maytag", "frigidaire", "kenmore"],
            dishwasher: ["whirlpool", "ge", "samsung", "lg", "bosch", "kitchenaid", "frigidaire"],
            refrigerator: ["whirlpool", "ge", "samsung", "lg", "frigidaire", "kenmore", "maytag"],
            range: ["whirlpool", "ge", "samsung", "lg", "frigidaire", "kenmore", "bosch"],
            microwave: ["whirlpool", "ge", "samsung", "lg", "panasonic", "sharp", "kenmore"]
        };

        // Symptom options
        const symptomOptions = {
            washer: ["Won't start", "No water fill", "Won't drain", "Won't spin", "Leaking water", "Making noise", "Error codes", "Door won't lock"],
            dryer: ["No heat", "Won't start", "Too hot", "Takes too long", "Making noise", "Door won't close", "Lint buildup", "Won't turn off"],
            dishwasher: ["Won't start", "Not cleaning well", "Won't drain", "Leaking", "No hot water", "Making noise", "Door problems", "Error codes"],
            refrigerator: ["Not cooling", "Too cold", "Making noise", "Ice maker issues", "Water dispenser problems", "Door seal issues", "Compressor problems"],
            range: ["Oven won't heat", "Burners not working", "Door won't close", "Self-clean issues", "Gas smell", "Temperature problems", "Control panel dead"],
            microwave: ["Not heating", "Sparking", "Door problems", "Turntable issues", "Making noise", "Display problems", "Won't start"]
        };

        // Phone number formatting
        function formatPhoneNumber(phone) {
            const cleaned = phone.replace(/\D/g, '');
            const match = cleaned.match(/^(\d{3})(\d{3})(\d{4})$/);
            if (match) {
                return `(${match[1]}) ${match[2]}-${match[3]}`;
            }
            return phone;
        }

        // Customer lookup function
        function searchPhone(phoneNumber) {
            const customer = customerDatabase[phoneNumber];
            const customerInfo = document.getElementById('customerInfo');
            
            if (customer) {
                customerInfo.innerHTML = `
                    <div class="customer-name">${customer.name}</div>
                    <div class="customer-details">
                        <div class="customer-detail">
                            <div class="customer-label">Contact:</div>
                            ${customer.contact}
                        </div>
                        <div class="customer-detail">
                            <div class="customer-label">Type:</div>
                            ${customer.type}
                        </div>
                        <div class="customer-detail">
                            <div class="customer-label">Address:</div>
                            ${customer.address}
                        </div>
                        <div class="customer-detail">
                            <div class="customer-label">Terms:</div>
                            ${customer.terms}
                        </div>
                        <div class="customer-detail">
                            <div class="customer-label">Discount:</div>
                            ${customer.discount}
                        </div>
                        <div class="customer-detail">
                            <div class="customer-label">History:</div>
                            ${customer.history}
                        </div>
                    </div>
                    <div style="margin-top: 15px; padding: 10px; background: rgba(255,255,255,0.8); border-radius: 8px;">
                        <strong>Notes:</strong> ${customer.notes}
                    </div>
                `;
                customerInfo.style.display = 'block';
                document.getElementById('phoneSearch').value = phoneNumber;
            } else {
                customerInfo.innerHTML = `
                    <div class="customer-name">Unknown Number: ${phoneNumber}</div>
                    <div style="margin-top: 10px; color: #666;">
                        No customer record found. This may be a new customer or wrong number.
                    </div>
                `;
                customerInfo.style.display = 'block';
            }
        }

        // Clear caller search
        function clearCallerSearch() {
            document.getElementById('phoneSearch').value = '';
            document.getElementById('customerInfo').style.display = 'none';
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab content and activate button
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }

        // Update brands based on appliance selection
        function updateBrands() {
            const applianceType = document.getElementById('applianceType').value;
            const brandSelect = document.getElementById('brandSelect');
            
            brandSelect.innerHTML = '<option value="">-- Choose Brand --</option>';
            
            if (applianceType && brandOptions[applianceType]) {
                brandOptions[applianceType].forEach(brand => {
                    const option = document.createElement('option');
                    option.value = brand;
                    option.textContent = brand.charAt(0).toUpperCase() + brand.slice(1);
                    brandSelect.appendChild(option);
                });
            }
            
            // Reset symptoms
            document.getElementById('symptomSelect').innerHTML = '<option value="">-- Choose Symptom --</option>';
        }

        // Update symptoms based on appliance selection
        function updateSymptoms() {
            const applianceType = document.getElementById('applianceType').value;
            const symptomSelect = document.getElementById('symptomSelect');
            
            symptomSelect.innerHTML = '<option value="">-- Choose Symptom --</option>';
            
            if (applianceType && symptomOptions[applianceType]) {
                symptomOptions[applianceType].forEach(symptom => {
                    const option = document.createElement('option');
                    option.value = symptom.toLowerCase();
                    option.textContent = symptom;
                    symptomSelect.appendChild(option);
                });
            }
        }

        // Find parts based on wizard selections
        function findParts() {
            const appliance = document.getElementById('applianceType').value;
            const brand = document.getElementById('brandSelect').value;
            const symptom = document.getElementById('symptomSelect').value;
            
            if (appliance && brand && symptom) {
                const matchingParts = partsDatabase.filter(part => 
                    part.appliance === appliance && 
                    part.brand === brand &&
                    part.symptoms.some(s => s.toLowerCase().includes(symptom))
                );
                
                displayParts(matchingParts);
            }
        }

        // Quick search function
        function quickSearch(searchTerm) {
            document.getElementById('partsSearch').value = searchTerm;
            searchParts(searchTerm);
        }

        // Search parts function
        function searchParts(searchTerm) {
            const term = searchTerm.toLowerCase();
            const matchingParts = partsDatabase.filter(part =>
                part.description.toLowerCase().includes(term) ||
                part.partNumber.toLowerCase().includes(term) ||
                part.brand.toLowerCase().includes(term) ||
                part.appliance.toLowerCase().includes(term) ||
                part.symptoms.some(s => s.toLowerCase().includes(term))
            );
            
            displayParts(matchingParts);
        }

        // Display parts results
        function displayParts(parts) {
            const resultsArea = document.getElementById('partsResults');
            
            if (parts.length === 0) {
                resultsArea.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">No parts found matching your criteria.</div>';
                resultsArea.style.display = 'block';
                return;
            }
            
            const resultsHTML = parts.map(part => `
                <div class="part-result">
                    <div class="part-number">${part.partNumber} <span class="part-price">${part.price}</span></div>
                    <div class="part-description">${part.description}</div>
                    <div style="margin: 8px 0; color: #666;">
                        <strong>Stock:</strong> ${part.stock} units | 
                        <strong>Symptoms:</strong> ${part.symptoms.join(', ')}
                    </div>
                    <div class="part-models">Compatible Models: ${part.models.join(', ')}</div>
                </div>
            `).join('');
            
            resultsArea.innerHTML = resultsHTML;
            resultsArea.style.display = 'block';
        }

        // Event listeners
        document.getElementById('phoneSearch').addEventListener('input', function(e) {
            const formatted = formatPhoneNumber(e.target.value);
            e.target.value = formatted;
            
            // Auto-search if we have a complete phone number
            if (formatted.length === 14) {
                searchPhone(formatted);
            }
        });

        document.getElementById('partsSearch').addEventListener('input', function(e) {
            if (e.target.value.length >= 3) {
                searchParts(e.target.value);
            }
        });
    </script>
</body>
</html>
